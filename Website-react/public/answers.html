<!DOCTYPE html>
<html>
<head>
  <title>Your Answers</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="login-page">
  <div class="container">
    <h2>Your Recorded Answers</h2>
    <ol id="answerList">
      <li>Loading...</li>
    </ol>
    <button onclick="window.location.href='/logout'">Logout</button>
  </div>
<div style="margin-top: 20px;">
  <button onclick="window.location.href='/'">Go to Homepage</button>
  <button onclick="window.location.href='/logout'">Logout</button>
</div>

  <script>
    fetch('/my-answers')
      .then(res => {
        if (!res.ok) throw new Error("Failed to load answers.");
        return res.json();
      })
      .then(data => {
        const list = document.getElementById('answerList');
        list.innerHTML = '';
        if (data.length === 0) {
          list.innerHTML = '<li>No answers recorded this session.</li>';
          return;
        }
        data.forEach(row => {
          const item = document.createElement('li');
          item.textContent = `Q${row.question}: ${row.answer}`;
          list.appendChild(item);
        });
      })
      .catch(err => {
        alert(err.message);
      });
  </script>
</body>
</html>
